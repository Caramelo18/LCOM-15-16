<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CBALL: Referência ao ficheiro C:/Users/Bruno/Desktop/proj/timer.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBALL
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">LCOM Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Localizar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="modules.html"><span>Módulos</span></a></li>
      <li><a href="annotated.html"><span>Estruturas&#160;de&#160;dados</span></a></li>
      <li class="current"><a href="files.html"><span>Ficheiros</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Localizar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Lista&#160;de&#160;ficheiros</span></a></li>
      <li><a href="globals.html"><span>Globais</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c166a637ad9f8f09f1307a666349b968.html">proj</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Funções</a>  </div>
  <div class="headertitle">
<div class="title">Referência ao ficheiro timer.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="const_8h_source.html">const.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="video_8h_source.html">video.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pixmap_8h_source.html">pixmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="read__xpm_8h_source.html">read_xpm.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Diagrama de dependências de inclusão para timer.h:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__incl.png" border="0" usemap="#_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8h" alt=""/></div>
<map name="_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8h" id="_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8h">
<area shape="rect" id="node2" href="const_8h.html" title="const.h" alt="" coords="467,244,532,271"/>
<area shape="rect" id="node11" href="video_8h.html" title="video.h" alt="" coords="499,95,561,121"/>
<area shape="rect" id="node12" href="pixmap_8h.html" title="pixmap.h" alt="" coords="387,169,462,196"/>
<area shape="rect" id="node13" href="read__xpm_8h.html" title="read_xpm.h" alt="" coords="723,169,814,196"/>
<area shape="rect" id="node14" href="rtc_8h.html" title="rtc.h" alt="" coords="537,169,585,196"/>
<area shape="rect" id="node15" href="weekdays_8h.html" title="weekdays.h" alt="" coords="609,169,699,196"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
Este grafo mostra quais são os ficheiros que incluem directamente ou indirectamente este ficheiro:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h__dep__incl.png" border="0" usemap="#_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8hdep" alt=""/></div>
<map name="_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8hdep" id="_c_1_2_users_2_bruno_2_desktop_2proj_2timer_8hdep">
<area shape="rect" id="node2" href="proj_8c.html" title="C:/Users/Bruno/Desktop\l/proj/proj.c" alt="" coords="5,95,168,136"/>
<area shape="rect" id="node3" href="timer_8c.html" title="C:/Users/Bruno/Desktop\l/proj/timer.c" alt="" coords="192,95,355,136"/>
</map>
</div>
</div>
<p><a href="timer_8h_source.html">Ir para o código fonte deste ficheiro.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funções</h2></td></tr>
<tr class="memitem:a1a5a0e1503706f3ca5cf73742e986956"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a1a5a0e1503706f3ca5cf73742e986956">timer_subscribe</a> ()</td></tr>
<tr class="memdesc:a1a5a0e1503706f3ca5cf73742e986956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcao que vai subscrever as interrupcoes do timer.  <a href="#a1a5a0e1503706f3ca5cf73742e986956">Mais...</a><br /></td></tr>
<tr class="separator:a1a5a0e1503706f3ca5cf73742e986956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10260b74f313089215e302d62bed3916"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a10260b74f313089215e302d62bed3916">timer_unsubscribe</a> ()</td></tr>
<tr class="memdesc:a10260b74f313089215e302d62bed3916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcao que vai desactivar as interrupcoes do timer.  <a href="#a10260b74f313089215e302d62bed3916">Mais...</a><br /></td></tr>
<tr class="separator:a10260b74f313089215e302d62bed3916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291e73a2f4a9140f4d20bed57e96aa6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a291e73a2f4a9140f4d20bed57e96aa6f">startTime</a> (char *add, int min)</td></tr>
<tr class="memdesc:a291e73a2f4a9140f4d20bed57e96aa6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcao que imprime no ecra o tempo pela primeira vez.  <a href="#a291e73a2f4a9140f4d20bed57e96aa6f">Mais...</a><br /></td></tr>
<tr class="separator:a291e73a2f4a9140f4d20bed57e96aa6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237f6284703d25e34532e7f73b0eb209"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8h.html#a237f6284703d25e34532e7f73b0eb209">updateTime</a> (char *add, int *min, int *sec)</td></tr>
<tr class="memdesc:a237f6284703d25e34532e7f73b0eb209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcao que actualiza no ecra o tempo de jogo restante.  <a href="#a237f6284703d25e34532e7f73b0eb209">Mais...</a><br /></td></tr>
<tr class="separator:a237f6284703d25e34532e7f73b0eb209"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentação das funções</h2>
<a class="anchor" id="a291e73a2f4a9140f4d20bed57e96aa6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startTime </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcao que imprime no ecra o tempo pela primeira vez. </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>numero de minutos a mostrar no ecra </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordtype">char</span>* doisp;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">int</span> wp, hp;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span>((doisp = <a class="code" href="read__xpm_8c.html#a05b2c5e4dbcaffa701703b50a2111783">read_xpm</a>(<a class="code" href="pixmap_8h.html#a4d49b69fbff817018bcb941d2d29d58d">dp</a>, &amp;wp, &amp;hp)) == NULL)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3">drawXPM</a>(add, <a class="code" href="const_8h.html#aee7b903a04ac759b14fed460cf2ab2f6">CLOCKDP</a>, <a class="code" href="const_8h.html#a81551d85c0b26101a01a40e83aa389aa">CLOCKY</a>, doisp, wp, hp);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">int</span> sw, sh;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">char</span>* zero;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span>((zero = <a class="code" href="read__xpm_8c.html#a05b2c5e4dbcaffa701703b50a2111783">read_xpm</a>(<a class="code" href="pixmap_8h.html#ad174add23797e0722c51d010d1a9a1d7">num0</a>, &amp;sw, &amp;sh)) == NULL)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3">drawXPM</a>(add, <a class="code" href="const_8h.html#abe90ddee11347243497ad5939fd66856">CLOCKSEC1</a>, <a class="code" href="const_8h.html#a81551d85c0b26101a01a40e83aa389aa">CLOCKY</a>, zero, sw, sh);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3">drawXPM</a>(add, <a class="code" href="const_8h.html#a839fe95f45df19efda8e4b6e9b72784f">CLOCKSEC2</a>, <a class="code" href="const_8h.html#a81551d85c0b26101a01a40e83aa389aa">CLOCKY</a>, zero, sw, sh);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910">displayMin</a>(add, min);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="ttc" id="pixmap_8h_html_a4d49b69fbff817018bcb941d2d29d58d"><div class="ttname"><a href="pixmap_8h.html#a4d49b69fbff817018bcb941d2d29d58d">dp</a></div><div class="ttdeci">static char * dp[]</div><div class="ttdef"><b>Definition:</b> pixmap.h:42</div></div>
<div class="ttc" id="video_8c_html_ab36f1e43a3d76e1236e10d306004f1f3"><div class="ttname"><a href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3">drawXPM</a></div><div class="ttdeci">void drawXPM(char *add, unsigned short x, unsigned short y, char *a, int width, int heigth)</div><div class="ttdoc">Funcao que desenha o xpm no ecra. </div><div class="ttdef"><b>Definition:</b> video.c:132</div></div>
<div class="ttc" id="read__xpm_8c_html_a05b2c5e4dbcaffa701703b50a2111783"><div class="ttname"><a href="read__xpm_8c.html#a05b2c5e4dbcaffa701703b50a2111783">read_xpm</a></div><div class="ttdeci">char * read_xpm(char *map[], int *wd, int *ht)</div><div class="ttdef"><b>Definition:</b> read_xpm.c:21</div></div>
<div class="ttc" id="const_8h_html_a839fe95f45df19efda8e4b6e9b72784f"><div class="ttname"><a href="const_8h.html#a839fe95f45df19efda8e4b6e9b72784f">CLOCKSEC2</a></div><div class="ttdeci">#define CLOCKSEC2</div><div class="ttdef"><b>Definition:</b> const.h:67</div></div>
<div class="ttc" id="const_8h_html_aee7b903a04ac759b14fed460cf2ab2f6"><div class="ttname"><a href="const_8h.html#aee7b903a04ac759b14fed460cf2ab2f6">CLOCKDP</a></div><div class="ttdeci">#define CLOCKDP</div><div class="ttdef"><b>Definition:</b> const.h:65</div></div>
<div class="ttc" id="const_8h_html_abe90ddee11347243497ad5939fd66856"><div class="ttname"><a href="const_8h.html#abe90ddee11347243497ad5939fd66856">CLOCKSEC1</a></div><div class="ttdeci">#define CLOCKSEC1</div><div class="ttdef"><b>Definition:</b> const.h:66</div></div>
<div class="ttc" id="pixmap_8h_html_ad174add23797e0722c51d010d1a9a1d7"><div class="ttname"><a href="pixmap_8h.html#ad174add23797e0722c51d010d1a9a1d7">num0</a></div><div class="ttdeci">static char * num0[]</div><div class="ttdef"><b>Definition:</b> pixmap.h:68</div></div>
<div class="ttc" id="video_8c_html_a9a74d03fd11068ed1707d8267a7ad910"><div class="ttname"><a href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910">displayMin</a></div><div class="ttdeci">void displayMin(char *add, int min)</div><div class="ttdoc">Imprime os minutos de jogo no ecra. </div><div class="ttdef"><b>Definition:</b> video.c:181</div></div>
<div class="ttc" id="const_8h_html_a81551d85c0b26101a01a40e83aa389aa"><div class="ttname"><a href="const_8h.html#a81551d85c0b26101a01a40e83aa389aa">CLOCKY</a></div><div class="ttdeci">#define CLOCKY</div><div class="ttdef"><b>Definition:</b> const.h:63</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Grafo de chamadas desta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_cgraph.png" border="0" usemap="#timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_cgraph" alt=""/></div>
<map name="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_cgraph" id="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_cgraph">
<area shape="rect" id="node2" href="read__xpm_8c.html#a05b2c5e4dbcaffa701703b50a2111783" title="read_xpm" alt="" coords="263,5,341,32"/>
<area shape="rect" id="node3" href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3" title="Funcao que desenha o xpm no ecra. " alt="" coords="264,107,340,133"/>
<area shape="rect" id="node4" href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910" title="Imprime os minutos de jogo no ecra. " alt="" coords="129,56,213,83"/>
<area shape="rect" id="node5" href="video_8c.html#a3546f839cb7d4e3d98328d7ca1e4bc6e" title="Funcao que apaga o xpm da memoria de video. " alt="" coords="261,56,343,83"/>
</map>
</div>
</p>

<p><div class="dynheader">
Este é o diagrama das funções que utilizam esta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_icgraph.png" border="0" usemap="#timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_icgraph" alt=""/></div>
<map name="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_icgraph" id="timer_8h_a291e73a2f4a9140f4d20bed57e96aa6f_icgraph">
<area shape="rect" id="node2" href="proj_8c.html#a460cfa57cc9fe97500d2f2cf510fd3d3" title="Funcao que inicia o jogo apenas com o teclado. " alt="" coords="135,5,189,32"/>
<area shape="rect" id="node5" href="proj_8c.html#aebbb7a5fa40a19e1f662848b478eec53" title="Funcao que inicia o jogo com o teclado e o rato. " alt="" coords="129,56,195,83"/>
<area shape="rect" id="node3" href="proj_8c.html#aad96881d8e20c112ebe31f76842a27f9" title="Funcao que inicia um dos dois jogos mediante o modo escolhido. " alt="" coords="243,31,345,57"/>
<area shape="rect" id="node4" href="proj_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="393,31,444,57"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1a5a0e1503706f3ca5cf73742e986956"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timer_subscribe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcao que vai subscrever as interrupcoes do timer. </p>
<dl class="section return"><dt>Retorna</dt><dd>Retorna hook do timer se activar as interrupcoes, -1 se nao desativar as interrupcoes </dd></dl>
<div class="fragment"><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="keywordtype">int</span> th = <a class="code" href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a>;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keywordflow">if</span> (sys_irqsetpolicy(<a class="code" href="const_8h.html#a30bf84c312af248cb81bb224e09f9ba8">TIMER0_IRQ</a>, IRQ_REENABLE, &amp;<a class="code" href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a>) == 0)</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        <span class="keywordflow">if</span>(sys_irqenable(&amp;<a class="code" href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a>) == 0)</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="const_8h.html#a3a8ea58898cb58fc96013383d39f482c">BIT</a>(th);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        }</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
<div class="ttc" id="const_8h_html_a3a8ea58898cb58fc96013383d39f482c"><div class="ttname"><a href="const_8h.html#a3a8ea58898cb58fc96013383d39f482c">BIT</a></div><div class="ttdeci">#define BIT(n)</div><div class="ttdef"><b>Definition:</b> const.h:52</div></div>
<div class="ttc" id="const_8h_html_a72a3e9ef9bf5498ac6083dcdd6627b38"><div class="ttname"><a href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a></div><div class="ttdeci">static int TIMER_HOOK</div><div class="ttdef"><b>Definition:</b> const.h:57</div></div>
<div class="ttc" id="const_8h_html_a30bf84c312af248cb81bb224e09f9ba8"><div class="ttname"><a href="const_8h.html#a30bf84c312af248cb81bb224e09f9ba8">TIMER0_IRQ</a></div><div class="ttdeci">#define TIMER0_IRQ</div><div class="ttdef"><b>Definition:</b> const.h:46</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Este é o diagrama das funções que utilizam esta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a1a5a0e1503706f3ca5cf73742e986956_icgraph.png" border="0" usemap="#timer_8h_a1a5a0e1503706f3ca5cf73742e986956_icgraph" alt=""/></div>
<map name="timer_8h_a1a5a0e1503706f3ca5cf73742e986956_icgraph" id="timer_8h_a1a5a0e1503706f3ca5cf73742e986956_icgraph">
<area shape="rect" id="node2" href="proj_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="168,5,219,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10260b74f313089215e302d62bed3916"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timer_unsubscribe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcao que vai desactivar as interrupcoes do timer. </p>
<dl class="section return"><dt>Retorna</dt><dd>Retorna 0 se desativar as interrupcoes, -1 se nao desativar as interrupcoes </dd></dl>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">if</span> (sys_irqdisable(&amp;<a class="code" href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a>) == 0)</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        <span class="keywordflow">if</span> (sys_irqrmpolicy(&amp;<a class="code" href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a>) == 0)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
<div class="ttc" id="const_8h_html_a72a3e9ef9bf5498ac6083dcdd6627b38"><div class="ttname"><a href="const_8h.html#a72a3e9ef9bf5498ac6083dcdd6627b38">TIMER_HOOK</a></div><div class="ttdeci">static int TIMER_HOOK</div><div class="ttdef"><b>Definition:</b> const.h:57</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Este é o diagrama das funções que utilizam esta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a10260b74f313089215e302d62bed3916_icgraph.png" border="0" usemap="#timer_8h_a10260b74f313089215e302d62bed3916_icgraph" alt=""/></div>
<map name="timer_8h_a10260b74f313089215e302d62bed3916_icgraph" id="timer_8h_a10260b74f313089215e302d62bed3916_icgraph">
<area shape="rect" id="node2" href="proj_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="181,5,232,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a237f6284703d25e34532e7f73b0eb209"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateTime </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcao que actualiza no ecra o tempo de jogo restante. </p>
<dl class="params"><dt>Parâmetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>numero de minutos a mostrar no ecra </td></tr>
    <tr><td class="paramname">sec</td><td>numero de segundos a mostrar no ecra </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    *sec -=  1;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (*sec == -1)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        *sec = 59;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        *min -= 1;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910">displayMin</a>(add, *min);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="video_8c.html#ac1b63a4a1ce54d502d4eece3005d91dc">displaySec</a>(add, *sec);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="video_8c_html_ac1b63a4a1ce54d502d4eece3005d91dc"><div class="ttname"><a href="video_8c.html#ac1b63a4a1ce54d502d4eece3005d91dc">displaySec</a></div><div class="ttdeci">void displaySec(char *add, int sec)</div><div class="ttdoc">Imprime os segundos de jogo no ecra. </div><div class="ttdef"><b>Definition:</b> video.c:219</div></div>
<div class="ttc" id="video_8c_html_a9a74d03fd11068ed1707d8267a7ad910"><div class="ttname"><a href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910">displayMin</a></div><div class="ttdeci">void displayMin(char *add, int min)</div><div class="ttdoc">Imprime os minutos de jogo no ecra. </div><div class="ttdef"><b>Definition:</b> video.c:181</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Grafo de chamadas desta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a237f6284703d25e34532e7f73b0eb209_cgraph.png" border="0" usemap="#timer_8h_a237f6284703d25e34532e7f73b0eb209_cgraph" alt=""/></div>
<map name="timer_8h_a237f6284703d25e34532e7f73b0eb209_cgraph" id="timer_8h_a237f6284703d25e34532e7f73b0eb209_cgraph">
<area shape="rect" id="node2" href="video_8c.html#a9a74d03fd11068ed1707d8267a7ad910" title="Imprime os minutos de jogo no ecra. " alt="" coords="144,31,228,57"/>
<area shape="rect" id="node6" href="video_8c.html#ac1b63a4a1ce54d502d4eece3005d91dc" title="Imprime os segundos de jogo no ecra. " alt="" coords="143,81,229,108"/>
<area shape="rect" id="node3" href="read__xpm_8c.html#a05b2c5e4dbcaffa701703b50a2111783" title="read_xpm" alt="" coords="279,5,357,32"/>
<area shape="rect" id="node4" href="video_8c.html#a3546f839cb7d4e3d98328d7ca1e4bc6e" title="Funcao que apaga o xpm da memoria de video. " alt="" coords="277,56,359,83"/>
<area shape="rect" id="node5" href="video_8c.html#ab36f1e43a3d76e1236e10d306004f1f3" title="Funcao que desenha o xpm no ecra. " alt="" coords="280,107,356,133"/>
</map>
</div>
</p>

<p><div class="dynheader">
Este é o diagrama das funções que utilizam esta função:</div>
<div class="dyncontent">
<div class="center"><img src="timer_8h_a237f6284703d25e34532e7f73b0eb209_icgraph.png" border="0" usemap="#timer_8h_a237f6284703d25e34532e7f73b0eb209_icgraph" alt=""/></div>
<map name="timer_8h_a237f6284703d25e34532e7f73b0eb209_icgraph" id="timer_8h_a237f6284703d25e34532e7f73b0eb209_icgraph">
<area shape="rect" id="node2" href="proj_8c.html#a460cfa57cc9fe97500d2f2cf510fd3d3" title="Funcao que inicia o jogo apenas com o teclado. " alt="" coords="148,5,203,32"/>
<area shape="rect" id="node5" href="proj_8c.html#aebbb7a5fa40a19e1f662848b478eec53" title="Funcao que inicia o jogo com o teclado e o rato. " alt="" coords="143,56,208,83"/>
<area shape="rect" id="node3" href="proj_8c.html#aad96881d8e20c112ebe31f76842a27f9" title="Funcao que inicia um dos dois jogos mediante o modo escolhido. " alt="" coords="256,31,359,57"/>
<area shape="rect" id="node4" href="proj_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="407,31,457,57"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
