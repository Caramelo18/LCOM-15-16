<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CBALL: Referência ao ficheiro C:/Users/Bruno/Desktop/proj/read_xpm.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CBALL
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">LCOM Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Localizar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="modules.html"><span>Módulos</span></a></li>
      <li><a href="annotated.html"><span>Estruturas&#160;de&#160;dados</span></a></li>
      <li class="current"><a href="files.html"><span>Ficheiros</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Localizar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Lista&#160;de&#160;ficheiros</span></a></li>
      <li><a href="globals.html"><span>Globais</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c166a637ad9f8f09f1307a666349b968.html">proj</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Funções</a>  </div>
  <div class="headertitle">
<div class="title">Referência ao ficheiro read_xpm.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
Este grafo mostra quais são os ficheiros que incluem directamente ou indirectamente este ficheiro:</div>
<div class="dyncontent">
<div class="center"><img src="read__xpm_8h__dep__incl.png" border="0" usemap="#_c_1_2_users_2_bruno_2_desktop_2proj_2read__xpm_8hdep" alt=""/></div>
<map name="_c_1_2_users_2_bruno_2_desktop_2proj_2read__xpm_8hdep" id="_c_1_2_users_2_bruno_2_desktop_2proj_2read__xpm_8hdep">
<area shape="rect" id="node2" href="mouse_8h.html" title="C:/Users/Bruno/Desktop\l/proj/mouse.h" alt="" coords="5,273,168,315"/>
<area shape="rect" id="node5" href="video_8h.html" title="C:/Users/Bruno/Desktop\l/proj/video.h" alt="" coords="192,95,355,136"/>
<area shape="rect" id="node6" href="sprite_8h.html" title="C:/Users/Bruno/Desktop\l/proj/sprite.h" alt="" coords="311,184,473,225"/>
<area shape="rect" id="node8" href="timer_8h.html" title="C:/Users/Bruno/Desktop\l/proj/timer.h" alt="" coords="497,184,660,225"/>
<area shape="rect" id="node3" href="mouse_8c.html" title="C:/Users/Bruno/Desktop\l/proj/mouse.c" alt="" coords="5,363,168,404"/>
<area shape="rect" id="node4" href="proj_8c.html" title="C:/Users/Bruno/Desktop\l/proj/proj.c" alt="" coords="192,363,355,404"/>
<area shape="rect" id="node10" href="video_8c.html" title="C:/Users/Bruno/Desktop\l/proj/video.c" alt="" coords="124,184,287,225"/>
<area shape="rect" id="node7" href="sprite_8c.html" title="C:/Users/Bruno/Desktop\l/proj/sprite.c" alt="" coords="311,273,473,315"/>
<area shape="rect" id="node9" href="timer_8c.html" title="C:/Users/Bruno/Desktop\l/proj/timer.c" alt="" coords="497,273,660,315"/>
</map>
</div>
</div>
<p><a href="read__xpm_8h_source.html">Ir para o código fonte deste ficheiro.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funções</h2></td></tr>
<tr class="memitem:a87bd140b1b1b28386f37ebac5c9b9d2e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__xpm_8h.html#a87bd140b1b1b28386f37ebac5c9b9d2e">read_xpm</a> (char *map[], int *width, int *height)</td></tr>
<tr class="separator:a87bd140b1b1b28386f37ebac5c9b9d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentação das funções</h2>
<a class="anchor" id="a87bd140b1b1b28386f37ebac5c9b9d2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* read_xpm </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>map</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section author"><dt>Autor</dt><dd>Joao Cardoso (<a href="#" onclick="location.href='mai'+'lto:'+'jca'+'rd'+'@fe'+'.u'+'p.p'+'t'; return false;">jcard<span style="display: none;">.nosp@m.</span>@fe.<span style="display: none;">.nosp@m.</span>up.pt</a>) ???? Added by <a href="#" onclick="location.href='mai'+'lto:'+'pfs'+'@f'+'e.u'+'p.'+'pt'; return false;">pfs@f<span style="display: none;">.nosp@m.</span>e.up<span style="display: none;">.nosp@m.</span>.pt</a> Reads a xpm-like sprite defined in "map" (look at <a class="el" href="pixmap_8h.html">pixmap.h</a> for examples). Returns the address of the allocated memory where the sprite was read. Updates "width" and "heigh" with the sprite dimension. Return NULL on error. Assumes that VRES and HRES (the screen vertical and horizontal resolution) are externaly defined.</dd></dl>
<p>Usage example, using the defined sprite in <a class="el" href="pixmap_8h.html">pixmap.h</a>: </p><pre>
  #include "pixmap.h" // defines  pic1, pic2, etc 
  int wd, hg;
  char *sprite = read_xpm(pic1, &amp;wd, &amp;hg);
</pre> <div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordtype">int</span> width, height, colors;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordtype">char</span> sym[256];</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordtype">int</span>  col;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">char</span> *pix, *pixtmp, *tmp, *line;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordtype">char</span> symbol;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">/* read width, height, colors */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (sscanf(map[0],<span class="stringliteral">&quot;%d %d %d&quot;</span>, &amp;width, &amp;height, &amp;colors) != 3) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        printf(<span class="stringliteral">&quot;read_xpm: incorrect width, height, colors\n&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    printf(<span class="stringliteral">&quot;%d %d %d\n&quot;</span>, width, height, colors);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (width &gt; <a class="code" href="read__xpm_8c.html#abf6f66114c31b8f87c80534ca695a00b">H_RES</a> || height &gt; <a class="code" href="read__xpm_8c.html#aac2466862bcfc18231c38fe1eacc22e3">V_RES</a> || colors &gt; 256) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        printf(<span class="stringliteral">&quot;read_xpm: incorrect width, height, colors\n&quot;</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    *wd = width;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    *ht = height;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;256; i++)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        sym[i] = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">/* read symbols &lt;-&gt; colors */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;colors; i++) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> (sscanf(map[i+1], <span class="stringliteral">&quot;%c %d&quot;</span>, &amp;symbol, &amp;col) != 2) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            printf(<span class="stringliteral">&quot;read_xpm: incorrect symbol, color at line %d\n&quot;</span>, i+1);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        printf(<span class="stringliteral">&quot;%c %d\n&quot;</span>, symbol, col);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (col &gt; 256) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            printf(<span class="stringliteral">&quot;read_xpm: incorrect color at line %d\n&quot;</span>, i+1);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        sym[col] = symbol;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">/* allocate pixmap memory */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    pix = pixtmp = malloc(width*height);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">/* parse each pixmap symbol line */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;height; i++) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        line = map[colors+1+i];</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        printf(<span class="stringliteral">&quot;\nparsing %s\n&quot;</span>, line);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">for</span> (j=0; j&lt;width; j++) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            tmp = memchr(sym, line[j], 256);  <span class="comment">/* find color of each symbol */</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (tmp == NULL) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                printf(<span class="stringliteral">&quot;read_xpm: incorrect symbol at line %d, col %d\n&quot;</span>, colors+i+1, j);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            *pixtmp++ = tmp - sym; <span class="comment">/* pointer arithmetic! back to books :-) */</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            printf(<span class="stringliteral">&quot;%c:%d &quot;</span>, line[j], tmp-sym);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> pix;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="ttc" id="read__xpm_8c_html_abf6f66114c31b8f87c80534ca695a00b"><div class="ttname"><a href="read__xpm_8c.html#abf6f66114c31b8f87c80534ca695a00b">H_RES</a></div><div class="ttdeci">#define H_RES</div><div class="ttdef"><b>Definition:</b> read_xpm.c:17</div></div>
<div class="ttc" id="read__xpm_8c_html_aac2466862bcfc18231c38fe1eacc22e3"><div class="ttname"><a href="read__xpm_8c.html#aac2466862bcfc18231c38fe1eacc22e3">V_RES</a></div><div class="ttdeci">#define V_RES</div><div class="ttdef"><b>Definition:</b> read_xpm.c:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Este é o diagrama das funções que utilizam esta função:</div>
<div class="dyncontent">
<div class="center"><img src="read__xpm_8h_a87bd140b1b1b28386f37ebac5c9b9d2e_icgraph.png" border="0" usemap="#read__xpm_8h_a87bd140b1b1b28386f37ebac5c9b9d2e_icgraph" alt=""/></div>
<map name="read__xpm_8h_a87bd140b1b1b28386f37ebac5c9b9d2e_icgraph" id="read__xpm_8h_a87bd140b1b1b28386f37ebac5c9b9d2e_icgraph">
<area shape="rect" id="node2" href="proj_8c.html#a460cfa57cc9fe97500d2f2cf510fd3d3" title="Funcao que inicia o jogo apenas com o teclado. " alt="" coords="564,271,619,297"/>
<area shape="rect" id="node4" href="proj_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="823,296,873,323"/>
<area shape="rect" id="node5" href="proj_8c.html#aebbb7a5fa40a19e1f662848b478eec53" title="Funcao que inicia o jogo com o teclado e o rato. " alt="" coords="559,321,624,348"/>
<area shape="rect" id="node6" href="sprite_8h.html#a3f7728feb84b250670d1ef33731ea7b4" title="Funcao que inicializar o &quot;objecto&quot;, lendo o xpm correspondente a sprite. " alt="" coords="413,397,510,424"/>
<area shape="rect" id="node7" href="sprite_8h.html#a74560924f6d0d263514ecdcd5dd7758d" title="Funcao que anima a bola. " alt="" coords="135,232,226,259"/>
<area shape="rect" id="node9" href="timer_8h.html#a291e73a2f4a9140f4d20bed57e96aa6f" title="Funcao que imprime no ecra o tempo pela primeira vez. " alt="" coords="423,347,499,373"/>
<area shape="rect" id="node10" href="video_8h.html#a9a74d03fd11068ed1707d8267a7ad910" title="Imprime os minutos de jogo no ecra. " alt="" coords="279,347,363,373"/>
<area shape="rect" id="node12" href="video_8h.html#ac1b63a4a1ce54d502d4eece3005d91dc" title="Imprime os segundos de jogo no ecra. " alt="" coords="137,296,224,323"/>
<area shape="rect" id="node13" href="video_8h.html#a9017b0659a0bc0c6611328d9d9f42e94" title="Imprime o score do jogo no ecra. " alt="" coords="132,169,229,196"/>
<area shape="rect" id="node15" href="video_8h.html#a4c8fbcbca54f70001b78061e5a9a53d7" title="Imprime a data e horas atuais no ecra. " alt="" coords="678,423,769,449"/>
<area shape="rect" id="node3" href="proj_8c.html#aad96881d8e20c112ebe31f76842a27f9" title="Funcao que inicia um dos dois jogos mediante o modo escolhido. " alt="" coords="672,296,775,323"/>
<area shape="rect" id="node8" href="sprite_8h.html#ab009384a9aeb421c51d2d13f85b7b319" title="Funcao responsavel por actualizar o frame a mostrar no ecra. " alt="" coords="412,195,511,221"/>
<area shape="rect" id="node11" href="timer_8h.html#a237f6284703d25e34532e7f73b0eb209" title="Funcao que actualiza no ecra o tempo de jogo restante. " alt="" coords="417,296,506,323"/>
<area shape="rect" id="node14" href="sprite_8h.html#a33ff853b6897c18e8c414d26fcce2c27" title="Funcao que mantem os jogadores a bola dentro dos limites de jogo e actualiza o numero de golos marcad..." alt="" coords="277,144,364,171"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
